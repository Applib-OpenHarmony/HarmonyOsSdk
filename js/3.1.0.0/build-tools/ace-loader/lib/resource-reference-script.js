"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault"),_typeof=require("@babel/runtime/helpers/typeof"),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_setPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/setPrototypeOf"));function _wrapRegExp(){_wrapRegExp=function(e,u){return new r(e,void 0,u)};var e=RegExp.prototype,u=new WeakMap;function r(e,t,a){var p=new RegExp(e,t);return u.set(p,a||u.get(e)),(0,_setPrototypeOf2.default)(p,r.prototype)}function t(e,r){var t=u.get(r);return Object.keys(t).reduce(function(u,r){return u[r]=e[t[r]],u},Object.create(null))}return(0,_inherits2.default)(r,RegExp),r.prototype.exec=function(u){var r=e.exec.call(this,u);return r&&(r.groups=t(r,this)),r},r.prototype[Symbol.replace]=function(r,a){if("string"==typeof a){var p=u.get(this);return e[Symbol.replace].call(this,r,a.replace(/\$<([^>]+)>/g,function(e,u){return"$"+p[u]}))}if("function"==typeof a){var n=this;return e[Symbol.replace].call(this,r,function(){var e=arguments;return"object"!==_typeof(e[e.length-1])&&(e=[].slice.call(e)).push(t(e,n)),a.apply(this,e)})}return e[Symbol.replace].call(this,r,a)},_wrapRegExp.apply(this,arguments)}var OHOS_THEME_PROP_GROUPS=require("./theme/ohosStyles");module.exports=function(e){for(var u,r=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']ohos\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resName:3});u=r.exec(e);){var t=u.groups.resName;if(t&&OHOS_THEME_PROP_GROUPS[t]){var a='"@ohos_id_'+OHOS_THEME_PROP_GROUPS[t]+'"';e=e.replace(u[0],a),r.lastIndex-=u[0].length-a.length}}for(var p=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']sys\.([0-9A-Z_a-z]+)\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resType:3,resName:4});u=p.exec(e);){var n=u.groups.resName,F=u.groups.resType;if(n&&F&&OHOS_THEME_PROP_GROUPS[n]){var o='"@sys.'+F+"."+OHOS_THEME_PROP_GROUPS[n]+'"';e=e.replace(u[0],o),p.lastIndex-=u[0].length-o.length}}for(var s=_wrapRegExp(/"?this[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\.\$r[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((["']app\.([0-9A-Z_a-z]+)\.([0-9A-Z_a-z]+)["']))[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\)"?/g,{resType:3,resName:4});u=s.exec(e);){var i=u.groups.resName,l=u.groups.resType;if(i&&l){var _='"@app.'+l+"."+i+'"';e=e.replace(u[0],_),s.lastIndex-=u[0].length-_.length}}return e};